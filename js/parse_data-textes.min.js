var rows,title,content,table_body,table_body_start=document.getElementsByTagName("tbody")[0].innerHTML;Papa.parse("https://raw.githubusercontent.com/eyssette/textes-philo/main/data/textes.tsv",{download:!0,header:!1,delimiter:"    ",complete:function(e){rows=(rows=e.data).splice(1,rows.length),table_body="<tbody>",rows.forEach(e=>{recherche=document.getElementById("recherche_dans_le_sujet").value,table_body+="<tr>",cellules=e[0].split("\t"),cellules.forEach(e=>{table_body=table_body+"<td>"+e+"</td>"}),table_body+="</tr>"}),table_body+="</tbody>"}});var input=document.getElementById("recherche_dans_le_sujet");input.oninput=handleInput;let checker=(e,t)=>t.every(t=>e.includes(t));function handleInput(e){var t=input.value.toLowerCase();this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout(function(){if(t){search_items=t.split("+"),table_body="<tbody>",rows.forEach(e=>{cellules=e[0].split("\t"),checker(cellules[0].toLowerCase(),search_items)&&(table_body+="<tr>",cellules.forEach(e=>{table_body=table_body+"<td>"+e+"</td>"}),table_body+="</tr>")}),table_body+="</tbody>",document.getElementsByTagName("tbody")[0].innerHTML=table_body;var e=document.getElementById("content");new Mark(e).mark(search_items,options={accuracy:"complementary",separateWordSearch:!1})}else document.getElementsByTagName("tbody")[0].innerHTML=table_body_start},300)}